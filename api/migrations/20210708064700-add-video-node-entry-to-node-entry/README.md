# Migration `20210708064700-add-video-node-entry-to-node-entry`

This migration has been generated by Daan at 7/8/2021, 8:47:00 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."VideoNodeEntry" (
"id" SERIAL,
"value" text   ,
"nodeEntryId" text   NOT NULL ,
PRIMARY KEY ("id")
)

CREATE UNIQUE INDEX "VideoNodeEntry_nodeEntryId_unique" ON "public"."VideoNodeEntry"("nodeEntryId")

ALTER TABLE "public"."VideoNodeEntry" ADD FOREIGN KEY ("nodeEntryId")REFERENCES "public"."NodeEntry"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210705154318-add-opacity-to-workspace..20210708064700-add-video-node-entry-to-node-entry
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 // binaryTargets = ["debian-openssl-1.1.x"]
 generator client {
@@ -156,8 +156,9 @@
 }
 model FormNode {
   id           String          @id @default(cuid())
+  helperText   String?
   createdAt    DateTime        @default(now())
   fields       FormNodeField[]
   QuestionNode QuestionNode[]
 }
@@ -379,16 +380,24 @@
   // Entry types
   sliderNodeEntry  SliderNodeEntry?
   choiceNodeEntry  ChoiceNodeEntry?
   textboxNodeEntry TextboxNodeEntry?
+  videoNodeEntry   VideoNodeEntry?
   // @Deprecated => FormNodeEntry
   registrationNodeEntry RegistrationNodeEntry?
   formNodeEntry FormNodeEntry?
   linkNodeEntry LinkNodeEntry?
 }
+model VideoNodeEntry {
+  id          Int       @id @default(autoincrement())
+  value       String?
+  nodeEntryId String
+  nodeEntry   NodeEntry @relation(references: [id], fields: [nodeEntryId])
+}
+
 model LinkNodeEntry {
   id          Int       @id @default(autoincrement())
   value       Json?
   nodeEntryId String
```


