# Migration `20210613120524-make-direct-campaign-optionla`

This migration has been generated by Jonathan at 6/13/2021, 2:05:24 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."CampaignVariantEdge" ALTER COLUMN "directCampaignId" DROP NOT NULL
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210613120336-update-migration..20210613120524-make-direct-campaign-optionla
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 // binaryTargets = ["debian-openssl-1.1.x"]
 generator client {
@@ -766,10 +766,10 @@
   campaignId  String
   campaign    Campaign  @relation(fields: [campaignId], references: [id])
-  directCampaignId String
-  directCampaign  Campaign @relation("DirectVariantEdges", fields: [directCampaignId], references: [id])
+  directCampaignId String?
+  directCampaign  Campaign? @relation("DirectVariantEdges", fields: [directCampaignId], references: [id])
   // A next campaign variant might be triggered based on if this edge has a certain condition
   condition CampaignVariantEdgeConditionEnum?
   conditionValue  CampaignVariantEdgeCondition?
```


