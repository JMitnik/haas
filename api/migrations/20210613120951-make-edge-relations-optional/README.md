# Migration `20210613120951-make-edge-relations-optional`

This migration has been generated by Jonathan at 6/13/2021, 2:09:51 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."CampaignVariantEdge" ALTER COLUMN "parentCampaignVariantId" DROP NOT NULL,
ALTER COLUMN "childCampaignVariantId" DROP NOT NULL
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210613120524-make-direct-campaign-optionla..20210613120951-make-edge-relations-optional
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 // binaryTargets = ["debian-openssl-1.1.x"]
 generator client {
@@ -773,13 +773,13 @@
   // A next campaign variant might be triggered based on if this edge has a certain condition
   condition CampaignVariantEdgeConditionEnum?
   conditionValue  CampaignVariantEdgeCondition?
-  parentCampaignVariantId String
-  parentCampaignVariant   CampaignVariant @relation("CampaignVariantEdge_ToParentCampaignVariant", fields: [parentCampaignVariantId], references: [id])
+  parentCampaignVariantId String?
+  parentCampaignVariant   CampaignVariant? @relation("CampaignVariantEdge_ToParentCampaignVariant", fields: [parentCampaignVariantId], references: [id])
-  childCampaignVariantId String
-  childCampaignVariant   CampaignVariant @relation("CampaignVariantEdge_ToChildCampaignVariant", fields: [childCampaignVariantId], references: [id])
+  childCampaignVariantId String?
+  childCampaignVariant   CampaignVariant? @relation("CampaignVariantEdge_ToChildCampaignVariant", fields: [childCampaignVariantId], references: [id])
   scheduleType CampaignVariantScheduleTypeEnum @default(value: GENERAL)
   scheduleMetric CampaignScheduleMetric?
   scheduleAmount  Int?
```


