# Migration `20210103223009-create-permissions-for-campaign`

This migration has been generated by Jonathan at 1/3/2021, 11:30:09 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TYPE "SystemPermissionEnum" ADD VALUE 'CAN_VIEW_CAMPAIGNS';
ALTER TYPE "SystemPermissionEnum" ADD VALUE 'CAN_CREATE_CAMPAIGNS';
ALTER TYPE "SystemPermissionEnum" ADD VALUE 'CAN_CREATE_DELIVERIES'

ALTER TABLE "public"."DeliveryEvents" ADD COLUMN "workSpaceId" text   NOT NULL ,
ALTER COLUMN "deliveryId" SET NOT NULL
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210101093800-make-updatedat-optional-on-deliveries..20210103223009-create-permissions-for-campaign
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 // binaryTargets = ["debian-openssl-1.1.x"]
 generator client {
@@ -385,8 +385,12 @@
   CAN_CREATE_TRIGGERS
   CAN_DELETE_TRIGGERS
   CAN_DELETE_WORKSPACE
   CAN_EDIT_WORKSPACE
+  // Campaign oriented
+  CAN_VIEW_CAMPAIGNS
+  CAN_CREATE_CAMPAIGNS
+  CAN_CREATE_DELIVERIES
 }
 enum RoleTypeEnum {
   ADMIN
@@ -584,5 +588,7 @@
 model DeliveryEvents {
   id String @id @default(cuid())
   status DeliveryStatusTypeEnum
   createdAt DateTime @default(now())
+  deliveryId  String
+  workSpaceId String
 }
```


