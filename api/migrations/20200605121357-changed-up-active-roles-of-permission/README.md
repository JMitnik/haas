# Migration `20200605121357-changed-up-active-roles-of-permission`

This migration has been generated by Cold-A-Muse at 6/5/2020, 12:13:57 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Permission" DROP CONSTRAINT IF EXiSTS "Permission_roleId_fkey",
DROP COLUMN "roleId";
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200605111212-re-added-role-id-field-on-permission..20200605121357-changed-up-active-roles-of-permission
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url      = env("DB_STRING")
 }
 // binaryTargets = ["debian-openssl-1.1.x"]
 generator client {
@@ -165,15 +165,14 @@
   NodeEntry              NodeEntry?       @relation(fields: [nodeEntryId], references: [id])
 }
 model Permission {
-  id          String    @default(cuid()) @id
-  name        String
-  description String?
-  roleId      String?
-  Role        Role[]    @relation(fields: [roleId], references: [id])
-  Customer    Customer? @relation(fields: [customerId], references: [id])
-  customerId  String?
+  id                 String    @default(cuid()) @id
+  name               String
+  description        String?
+  isPermissionOfRole Role[]    @relation(references: [id])
+  Customer           Customer? @relation(fields: [customerId], references: [id])
+  customerId         String?
 }
 model Role {
   id          String       @default(cuid()) @id
```


