# Migration `20200709152924`

This migration has been generated by Jonathan at 7/9/2020, 3:29:24 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."LinkNodeEntry" (
"id" SERIAL,"nodeEntryId" text  NOT NULL ,"value" jsonb   ,
    PRIMARY KEY ("id"))

CREATE UNIQUE INDEX "LinkNodeEntry_nodeEntryId" ON "public"."LinkNodeEntry"("nodeEntryId")

CREATE UNIQUE INDEX "ChoiceNodeEntry_nodeEntryId" ON "public"."ChoiceNodeEntry"("nodeEntryId")

CREATE UNIQUE INDEX "RegistrationNodeEntry_nodeEntryId" ON "public"."RegistrationNodeEntry"("nodeEntryId")

CREATE UNIQUE INDEX "TextboxNodeEntry_nodeEntryId" ON "public"."TextboxNodeEntry"("nodeEntryId")

ALTER TABLE "public"."LinkNodeEntry" ADD FOREIGN KEY ("nodeEntryId")REFERENCES "public"."NodeEntry"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200708132522-refactor-node-entry-type..20200709152924
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 // binaryTargets = ["debian-openssl-1.1.x"]
 generator client {
@@ -184,10 +184,21 @@
   relatedNode   QuestionNode?    @relation(fields: [relatedNodeId], references: [id])
   relatedEdge   Edge?            @relation(fields: [relatedEdgeId], references: [id])
   sliderNodeEntry SliderNodeEntry?
+  choiceNodeEntry ChoiceNodeEntry?
+  textboxNodeEntry TextboxNodeEntry?
+  registrationNodeEntry RegistrationNodeEntry?
+  linkNodeEntry LinkNodeEntry?
 }
+model LinkNodeEntry {
+  id  Int  @default(autoincrement()) @id
+  value Json?
+  nodeEntryId String
+  nodeEntry NodeEntry @relation(references: [id], fields: [nodeEntryId])
+}
+
 model SliderNodeEntry {
   id  Int  @default(autoincrement()) @id
   value Int?
   nodeEntryId String
```


