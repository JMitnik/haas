# Migration `20200428113418-removed-parent-node-entry`

This migration has been generated by Cold-A-Muse at 4/28/2020, 11:34:18 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."NodeEntryValue" DROP CONSTRAINT IF EXiSTS "NodeEntryValue_parentNodeEntryId_fkey",
DROP COLUMN "parentNodeEntryId";
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200428113021-init..20200428113418-removed-parent-node-entry
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url      = env("DB_STRING")
 }
 generator client {
   provider = "prisma-client-js"
@@ -130,9 +130,8 @@
   dialogue    Dialogue    @relation("DialogueToSessions", fields: [dialogueId], references: [id])
   nodeEntries NodeEntry[]
 }
-// // 
 model NodeEntry {
   id            String           @default(cuid()) @id
   creationDate  DateTime         @default(now())
   depth         Int?
@@ -143,16 +142,14 @@
   relatedNode   QuestionNode?    @relation(fields: [relatedNodeId], references: [id])
   relatedEdge   Edge?            @relation(fields: [relatedEdgeId], references: [id])
   values        NodeEntryValue[]
 }
-// // nodeEntryId            String?
 model NodeEntryValue {
   id                     Int              @default(autoincrement()) @id
   numberValue            Int?
   textValue              String?
   parentNodeEntryValueId Int?
-  parentNodeEntryId      String?
-  parentNodeEntry        NodeEntry?       @relation("NodeEntryToNodeEntryValues", fields: [parentNodeEntryId], references: [id])
   parentNodeEntryValue   NodeEntryValue?  @relation("NodeEntryValueToNodeEntryValue", fields: [parentNodeEntryValueId], references: [id])
   multiValues            NodeEntryValue[] @relation("NodeEntryValueToNodeEntryValue")
-}
+  nodeEntryId            String?
+}
```


