# Migration `20210524132949-fix-again`

This migration has been generated by Jonathan at 5/24/2021, 3:29:49 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
DROP INDEX "public"."CampaignVariantEdge_parentCampaignVariantId_unique"

CREATE UNIQUE INDEX "CampaignVariantEdge_childCampaignVariantId_unique" ON "public"."CampaignVariantEdge"("childCampaignVariantId")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210524132732-fix-relation..20210524132949-fix-again
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 // binaryTargets = ["debian-openssl-1.1.x"]
 generator client {
@@ -733,12 +733,12 @@
   // A next campaign variant might be triggered based on if this edge has a certain condition
   condition CampaignVariantEdgeConditionEnum?
   parentCampaignVariantId String
-  parentCampaignVariant   CampaignVariant @relation("CampaignVariantEdge_ToChildCampaignVariant", fields: [parentCampaignVariantId], references: [id])
+  parentCampaignVariant   CampaignVariant @relation("CampaignVariantEdge_ToParentCampaignVariant", fields: [parentCampaignVariantId], references: [id])
   childCampaignVariantId String
-  childCampaignVariant   CampaignVariant @relation("CampaignVariantEdge_ToParentCampaignVariant", fields: [childCampaignVariantId], references: [id])
+  childCampaignVariant   CampaignVariant @relation("CampaignVariantEdge_ToChildCampaignVariant", fields: [childCampaignVariantId], references: [id])
 }
 // DeliveryStatusTypeEnum: Status of a delivery
 enum DeliveryStatusTypeEnum {
```


