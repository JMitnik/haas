{
    "private": true,
    "jest": {
        "verbose": true
    },
    "homepage": ".",
    "workspaces": {
        "packages": [
            "api",
            "frontend/dashboard",
            "frontend/ui",
            "frontend/client"
        ],
        "nohoist": [
            "frontend/client/webpack-dev-server",
            "frontend/client/react-scripts-server",
            "frontend/dashboard/webpack-dev-server",
            "**/babel-loader",
            "**/babel-jest"
        ]
    },
    "scripts": {
        "start": "concurrently \"yarn start:client\" \"yarn start:dashboard\" \"yarn start:api\"",
        "start:api": "yarn workspace @haas/api start",
        "start:client": "yarn workspace @haas/client dev",
        "start:dashboard": "yarn workspace @haas/dashboard start",
        "build:client": "yarn workspace @haas/client build",

        "dev:api": "docker-compose -f docker-compose.dev.yml -p haas_dev up",

        "exec:frontend": "docker-compose -f docker-compose.dev.yml -p haas_dev exec frontends sh",
        "exec:api": "docker-compose -f docker-compose.dev.yml -p haas_dev exec api sh",
        "up:client": "docker-compose -f docker-compose.dev.yml -p haas_dev exec frontends yarn workspace @haas/client dev",
        "up:dashboard": "docker-compose -f docker-compose.dev.yml -p haas_dev exec frontends yarn workspace @haas/dashboard start ",
        "up:dev": "docker-compose -f docker-compose.dev.yml -p haas_dev up",
        "down:dev": "docker-compose -f docker-compose.dev.yml -p haas_dev down",
        "migrate:dev": "docker-compose -f docker-compose.dev.yml -p haas_dev exec api npx prisma migrate up --experimental",
        "seed:dev": "docker-compose -f docker-compose.dev.yml -p haas_dev exec api npx ts-node -s src/scripts/seed-db.ts",
        
        "up:test": "docker-compose -f docker-compose.test.yml -p haas_test up",
        "test:client": "yarn workspace @haas/client cypress",
        "down:test": "docker-compose -f docker-compose.test.yml -p haas_test down",

        "up:ci": "docker-compose -f docker-compose.ci.yml -p haas_ci up",
        "build:api": "yarn workspace @haas/api generate && yarn workspace @haas/api build",

        "clean:npm": "find . -name 'node_modules' -type d -prune -exec rm -rf '{}' +",
        "gen": "bash scripts/generate.sh",
        "gen:api": "yarn workspace @haas/api gen",
        "gen:dashboard": "yarn workspace @haas/dashboard gen",
        
        "migrate": "yarn workspace @haas/api migrate",
        "migrate:create": "yarn workspace @haas/api migrate:create",

        "seed:api": "yarn workspace @haas/api seed",
        "kill": "yarn kill:api && yarn kill:client",
        "kill:api": "yarn workspace @haas/api kill",
        "kill:client": "kill $(lsof -t -i:3000) | exit 0",
        "restart:api": "yarn kill:api && yarn start:api"
    },
    "devDependencies": {
        "@typescript-eslint/eslint-plugin": "^2.15.0",
        "@typescript-eslint/parser": "^2.15.0",
        "concurrently": "^5.1.0",
        "eslint": "^6.8.0",
        "eslint-config-prettier": "^6.10.1",
        "eslint-import-resolver-typescript": "^2.0.0",
        "eslint-plugin-import": "2.20.2",
        "eslint-plugin-prettier": "^3.1.2",
        "eslint-plugin-react": "^7.17.0",
        "eslint-plugin-react-hooks": "^4.0.4",
        "eslint-plugin-sort-imports-es6-autofix": "^0.5.0",
        "lerna": "^3.20.2",
        "react-scripts": "^3.4.0"
    },
    "dependencies": {}
}
